rndefine("#RNMainColorPickerField",["#RNMainCore/EventManager","#RNMainFormBuilderCore/FieldBase.Options","lit","#RNMainFormBuilderCore/FieldWithPrice.Model","#RNMainCore/Sanitizer","#RNMainFormBuilderCore/FieldWithPrice.Options","lit/decorators","#RNMainFormBuilderCore/FieldBase","#RNMainFormBuilderCore/FieldWithPrice","#RNMainLit/Lit","#RNMainCore/LitElementBase"],(function(e,t,n,r,i,o,a,s,l,c,f){"use strict";class h extends r.FieldWithPriceModel{constructor(e,t){super(e,t),this.Color=""}InternalSerialize(e){super.InternalSerialize(e),e.Value=this.GetValue()}InitializeStartingValues(e){this.Color=this.GetPreviousDataProperty("Value",this.Options.DefaultColor)}GetDynamicFieldNames(){return["FBColorPickerField"]}GetStoresInformation(){return!0}GetIsUsed(){return!!super.GetIsUsed()&&""!=this.GetValue()}GetValue(){return this.Color}SetColor(e){this.Color=i.Sanitizer.SanitizeString(e),this.FireValueChanged()}render(){return n.html`<rn-color-picker-field .model="${this}"></rn-color-picker-field>`}}class u extends o.FieldWithPriceOptions{LoadDefaultValues(){super.LoadDefaultValues(),this.Type=t.FieldTypeEnum.ColorPicker,this.Label="Color Picker",this.DefaultColor="",this.PriceType=o.PriceTypeEnum.none}}var d={};!function(e){Object.defineProperty(e,"__esModule",{value:!0});var t="times",n=[],r="f00d",i="M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z";e.definition={prefix:"fas",iconName:t,icon:[352,512,n,r,i]},e.faTimes=e.definition,e.prefix="fas",e.iconName=t,e.width=352,e.height=512,e.ligatures=n,e.unicode=r,e.svgPathData=i}(d);var p="top",m="bottom",v="right",g="left",b="auto",y=[p,m,v,g],w="start",x="end",O="viewport",C="popper",E=y.reduce((function(e,t){return e.concat([t+"-"+w,t+"-"+x])}),[]),S=[].concat(y,[b]).reduce((function(e,t){return e.concat([t,t+"-"+w,t+"-"+x])}),[]),_=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function k(e){return e?(e.nodeName||"").toLowerCase():null}function D(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function M(e){return e instanceof D(e).Element||e instanceof Element}function P(e){return e instanceof D(e).HTMLElement||e instanceof HTMLElement}function H(e){return"undefined"!=typeof ShadowRoot&&(e instanceof D(e).ShadowRoot||e instanceof ShadowRoot)}var L={name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var n=t.styles[e]||{},r=t.attributes[e]||{},i=t.elements[e];P(i)&&k(i)&&(Object.assign(i.style,n),Object.keys(r).forEach((function(e){var t=r[e];!1===t?i.removeAttribute(e):i.setAttribute(e,!0===t?"":t)})))}))},effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach((function(e){var r=t.elements[e],i=t.attributes[e]||{},o=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]).reduce((function(e,t){return e[t]="",e}),{});P(r)&&k(r)&&(Object.assign(r.style,o),Object.keys(i).forEach((function(e){r.removeAttribute(e)})))}))}},requires:["computeStyles"]};function R(e){return e.split("-")[0]}var W=Math.round;function T(e,t){void 0===t&&(t=!1);var n=e.getBoundingClientRect(),r=1,i=1;return P(e)&&t&&(r=n.width/e.offsetWidth||1,i=n.height/e.offsetHeight||1),{width:W(n.width/r),height:W(n.height/i),top:W(n.top/i),right:W(n.right/r),bottom:W(n.bottom/i),left:W(n.left/r),x:W(n.left/r),y:W(n.top/i)}}function j(e){var t=T(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function F(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&H(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function B(e){return D(e).getComputedStyle(e)}function I(e){return["table","td","th"].indexOf(k(e))>=0}function N(e){return((M(e)?e.ownerDocument:e.document)||window.document).documentElement}function A(e){return"html"===k(e)?e:e.assignedSlot||e.parentNode||(H(e)?e.host:null)||N(e)}function V(e){return P(e)&&"fixed"!==B(e).position?e.offsetParent:null}function $(e){for(var t=D(e),n=V(e);n&&I(n)&&"static"===B(n).position;)n=V(n);return n&&("html"===k(n)||"body"===k(n)&&"static"===B(n).position)?t:n||function(e){var t=-1!==navigator.userAgent.toLowerCase().indexOf("firefox");if(-1!==navigator.userAgent.indexOf("Trident")&&P(e)&&"fixed"===B(e).position)return null;for(var n=A(e);P(n)&&["html","body"].indexOf(k(n))<0;){var r=B(n);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||t&&"filter"===r.willChange||t&&r.filter&&"none"!==r.filter)return n;n=n.parentNode}return null}(e)||t}function q(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}var z=Math.max,G=Math.min,U=Math.round;function X(e,t,n){return z(e,G(t,n))}function Y(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function K(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}var Q={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,r=e.name,i=e.options,o=n.elements.arrow,a=n.modifiersData.popperOffsets,s=R(n.placement),l=q(s),c=[g,v].indexOf(s)>=0?"height":"width";if(o&&a){var f=function(e,t){return Y("number"!=typeof(e="function"==typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:K(e,y))}(i.padding,n),h=j(o),u="y"===l?p:g,d="y"===l?m:v,b=n.rects.reference[c]+n.rects.reference[l]-a[l]-n.rects.popper[c],w=a[l]-n.rects.reference[l],x=$(o),O=x?"y"===l?x.clientHeight||0:x.clientWidth||0:0,C=b/2-w/2,E=f[u],S=O-h[c]-f[d],_=O/2-h[c]/2+C,k=X(E,_,S),D=l;n.modifiersData[r]=((t={})[D]=k,t.centerOffset=k-_,t)}},effect:function(e){var t=e.state,n=e.options.element,r=void 0===n?"[data-popper-arrow]":n;null!=r&&("string"!=typeof r||(r=t.elements.popper.querySelector(r)))&&F(t.elements.popper,r)&&(t.elements.arrow=r)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]},J={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Z(e){var t,n=e.popper,r=e.popperRect,i=e.placement,o=e.offsets,a=e.position,s=e.gpuAcceleration,l=e.adaptive,c=e.roundOffsets,f=!0===c?function(e){var t=e.x,n=e.y,r=window.devicePixelRatio||1;return{x:U(U(t*r)/r)||0,y:U(U(n*r)/r)||0}}(o):"function"==typeof c?c(o):o,h=f.x,u=void 0===h?0:h,d=f.y,b=void 0===d?0:d,y=o.hasOwnProperty("x"),w=o.hasOwnProperty("y"),x=g,O=p,C=window;if(l){var E=$(n),S="clientHeight",_="clientWidth";E===D(n)&&"static"!==B(E=N(n)).position&&(S="scrollHeight",_="scrollWidth"),E=E,i===p&&(O=m,b-=E[S]-r.height,b*=s?1:-1),i===g&&(x=v,u-=E[_]-r.width,u*=s?1:-1)}var k,M=Object.assign({position:a},l&&J);return s?Object.assign({},M,((k={})[O]=w?"0":"",k[x]=y?"0":"",k.transform=(C.devicePixelRatio||1)<2?"translate("+u+"px, "+b+"px)":"translate3d("+u+"px, "+b+"px, 0)",k)):Object.assign({},M,((t={})[O]=w?b+"px":"",t[x]=y?u+"px":"",t.transform="",t))}var ee={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,r=n.gpuAcceleration,i=void 0===r||r,o=n.adaptive,a=void 0===o||o,s=n.roundOffsets,l=void 0===s||s,c={placement:R(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,Z(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:a,roundOffsets:l})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,Z(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},te={passive:!0};var ne={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,r=e.options,i=r.scroll,o=void 0===i||i,a=r.resize,s=void 0===a||a,l=D(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return o&&c.forEach((function(e){e.addEventListener("scroll",n.update,te)})),s&&l.addEventListener("resize",n.update,te),function(){o&&c.forEach((function(e){e.removeEventListener("scroll",n.update,te)})),s&&l.removeEventListener("resize",n.update,te)}},data:{}},re={left:"right",right:"left",bottom:"top",top:"bottom"};function ie(e){return e.replace(/left|right|bottom|top/g,(function(e){return re[e]}))}var oe={start:"end",end:"start"};function ae(e){return e.replace(/start|end/g,(function(e){return oe[e]}))}function se(e){var t=D(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function le(e){return T(N(e)).left+se(e).scrollLeft}function ce(e){var t=B(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function fe(e){return["html","body","#document"].indexOf(k(e))>=0?e.ownerDocument.body:P(e)&&ce(e)?e:fe(A(e))}function he(e,t){var n;void 0===t&&(t=[]);var r=fe(e),i=r===(null==(n=e.ownerDocument)?void 0:n.body),o=D(r),a=i?[o].concat(o.visualViewport||[],ce(r)?r:[]):r,s=t.concat(a);return i?s:s.concat(he(A(a)))}function ue(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function de(e,t){return t===O?ue(function(e){var t=D(e),n=N(e),r=t.visualViewport,i=n.clientWidth,o=n.clientHeight,a=0,s=0;return r&&(i=r.width,o=r.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(a=r.offsetLeft,s=r.offsetTop)),{width:i,height:o,x:a+le(e),y:s}}(e)):P(t)?function(e){var t=T(e);return t.top=t.top+e.clientTop,t.left=t.left+e.clientLeft,t.bottom=t.top+e.clientHeight,t.right=t.left+e.clientWidth,t.width=e.clientWidth,t.height=e.clientHeight,t.x=t.left,t.y=t.top,t}(t):ue(function(e){var t,n=N(e),r=se(e),i=null==(t=e.ownerDocument)?void 0:t.body,o=z(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),a=z(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),s=-r.scrollLeft+le(e),l=-r.scrollTop;return"rtl"===B(i||n).direction&&(s+=z(n.clientWidth,i?i.clientWidth:0)-o),{width:o,height:a,x:s,y:l}}(N(e)))}function pe(e,t,n){var r="clippingParents"===t?function(e){var t=he(A(e)),n=["absolute","fixed"].indexOf(B(e).position)>=0&&P(e)?$(e):e;return M(n)?t.filter((function(e){return M(e)&&F(e,n)&&"body"!==k(e)})):[]}(e):[].concat(t),i=[].concat(r,[n]),o=i[0],a=i.reduce((function(t,n){var r=de(e,n);return t.top=z(r.top,t.top),t.right=G(r.right,t.right),t.bottom=G(r.bottom,t.bottom),t.left=z(r.left,t.left),t}),de(e,o));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function me(e){return e.split("-")[1]}function ve(e){var t,n=e.reference,r=e.element,i=e.placement,o=i?R(i):null,a=i?me(i):null,s=n.x+n.width/2-r.width/2,l=n.y+n.height/2-r.height/2;switch(o){case p:t={x:s,y:n.y-r.height};break;case m:t={x:s,y:n.y+n.height};break;case v:t={x:n.x+n.width,y:l};break;case g:t={x:n.x-r.width,y:l};break;default:t={x:n.x,y:n.y}}var c=o?q(o):null;if(null!=c){var f="y"===c?"height":"width";switch(a){case w:t[c]=t[c]-(n[f]/2-r[f]/2);break;case x:t[c]=t[c]+(n[f]/2-r[f]/2)}}return t}function ge(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=void 0===r?e.placement:r,o=n.boundary,a=void 0===o?"clippingParents":o,s=n.rootBoundary,l=void 0===s?O:s,c=n.elementContext,f=void 0===c?C:c,h=n.altBoundary,u=void 0!==h&&h,d=n.padding,g=void 0===d?0:d,b=Y("number"!=typeof g?g:K(g,y)),w=f===C?"reference":C,x=e.elements.reference,E=e.rects.popper,S=e.elements[u?w:f],_=pe(M(S)?S:S.contextElement||N(e.elements.popper),a,l),k=T(x),D=ve({reference:k,element:E,strategy:"absolute",placement:i}),P=ue(Object.assign({},E,D)),H=f===C?P:k,L={top:_.top-H.top+b.top,bottom:H.bottom-_.bottom+b.bottom,left:_.left-H.left+b.left,right:H.right-_.right+b.right},R=e.modifiersData.offset;if(f===C&&R){var W=R[i];Object.keys(L).forEach((function(e){var t=[v,m].indexOf(e)>=0?1:-1,n=[p,m].indexOf(e)>=0?"y":"x";L[e]+=W[n]*t}))}return L}function be(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=n.boundary,o=n.rootBoundary,a=n.padding,s=n.flipVariations,l=n.allowedAutoPlacements,c=void 0===l?S:l,f=me(r),h=f?s?E:E.filter((function(e){return me(e)===f})):y,u=h.filter((function(e){return c.indexOf(e)>=0}));0===u.length&&(u=h);var d=u.reduce((function(t,n){return t[n]=ge(e,{placement:n,boundary:i,rootBoundary:o,padding:a})[R(n)],t}),{});return Object.keys(d).sort((function(e,t){return d[e]-d[t]}))}var ye={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var i=n.mainAxis,o=void 0===i||i,a=n.altAxis,s=void 0===a||a,l=n.fallbackPlacements,c=n.padding,f=n.boundary,h=n.rootBoundary,u=n.altBoundary,d=n.flipVariations,y=void 0===d||d,x=n.allowedAutoPlacements,O=t.options.placement,C=R(O),E=l||(C===O||!y?[ie(O)]:function(e){if(R(e)===b)return[];var t=ie(e);return[ae(e),t,ae(t)]}(O)),S=[O].concat(E).reduce((function(e,n){return e.concat(R(n)===b?be(t,{placement:n,boundary:f,rootBoundary:h,padding:c,flipVariations:y,allowedAutoPlacements:x}):n)}),[]),_=t.rects.reference,k=t.rects.popper,D=new Map,M=!0,P=S[0],H=0;H<S.length;H++){var L=S[H],W=R(L),T=me(L)===w,j=[p,m].indexOf(W)>=0,F=j?"width":"height",B=ge(t,{placement:L,boundary:f,rootBoundary:h,altBoundary:u,padding:c}),I=j?T?v:g:T?m:p;_[F]>k[F]&&(I=ie(I));var N=ie(I),A=[];if(o&&A.push(B[W]<=0),s&&A.push(B[I]<=0,B[N]<=0),A.every((function(e){return e}))){P=L,M=!1;break}D.set(L,A)}if(M)for(var V=function(e){var t=S.find((function(t){var n=D.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return P=t,"break"},$=y?3:1;$>0;$--){if("break"===V($))break}t.placement!==P&&(t.modifiersData[r]._skip=!0,t.placement=P,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function we(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function xe(e){return[p,v,m,g].some((function(t){return e[t]>=0}))}var Oe={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,r=t.rects.reference,i=t.rects.popper,o=t.modifiersData.preventOverflow,a=ge(t,{elementContext:"reference"}),s=ge(t,{altBoundary:!0}),l=we(a,r),c=we(s,i,o),f=xe(l),h=xe(c);t.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:f,hasPopperEscaped:h},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":f,"data-popper-escaped":h})}};var Ce={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.offset,o=void 0===i?[0,0]:i,a=S.reduce((function(e,n){return e[n]=function(e,t,n){var r=R(e),i=[g,p].indexOf(r)>=0?-1:1,o="function"==typeof n?n(Object.assign({},t,{placement:e})):n,a=o[0],s=o[1];return a=a||0,s=(s||0)*i,[g,v].indexOf(r)>=0?{x:s,y:a}:{x:a,y:s}}(n,t.rects,o),e}),{}),s=a[t.placement],l=s.x,c=s.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[r]=a}};var Ee={name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=ve({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}};var Se={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.mainAxis,o=void 0===i||i,a=n.altAxis,s=void 0!==a&&a,l=n.boundary,c=n.rootBoundary,f=n.altBoundary,h=n.padding,u=n.tether,d=void 0===u||u,b=n.tetherOffset,y=void 0===b?0:b,x=ge(t,{boundary:l,rootBoundary:c,padding:h,altBoundary:f}),O=R(t.placement),C=me(t.placement),E=!C,S=q(O),_="x"===S?"y":"x",k=t.modifiersData.popperOffsets,D=t.rects.reference,M=t.rects.popper,P="function"==typeof y?y(Object.assign({},t.rects,{placement:t.placement})):y,H={x:0,y:0};if(k){if(o||s){var L="y"===S?p:g,W="y"===S?m:v,T="y"===S?"height":"width",F=k[S],B=k[S]+x[L],I=k[S]-x[W],N=d?-M[T]/2:0,A=C===w?D[T]:M[T],V=C===w?-M[T]:-D[T],U=t.elements.arrow,Y=d&&U?j(U):{width:0,height:0},K=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},Q=K[L],J=K[W],Z=X(0,D[T],Y[T]),ee=E?D[T]/2-N-Z-Q-P:A-Z-Q-P,te=E?-D[T]/2+N+Z+J+P:V+Z+J+P,ne=t.elements.arrow&&$(t.elements.arrow),re=ne?"y"===S?ne.clientTop||0:ne.clientLeft||0:0,ie=t.modifiersData.offset?t.modifiersData.offset[t.placement][S]:0,oe=k[S]+ee-ie-re,ae=k[S]+te-ie;if(o){var se=X(d?G(B,oe):B,F,d?z(I,ae):I);k[S]=se,H[S]=se-F}if(s){var le="x"===S?p:g,ce="x"===S?m:v,fe=k[_],he=fe+x[le],ue=fe-x[ce],de=X(d?G(he,oe):he,fe,d?z(ue,ae):ue);k[_]=de,H[_]=de-fe}}t.modifiersData[r]=H}},requiresIfExists:["offset"]};function _e(e,t,n){void 0===n&&(n=!1);var r,i,o=P(t),a=P(t)&&function(e){var t=e.getBoundingClientRect(),n=t.width/e.offsetWidth||1,r=t.height/e.offsetHeight||1;return 1!==n||1!==r}(t),s=N(t),l=T(e,a),c={scrollLeft:0,scrollTop:0},f={x:0,y:0};return(o||!o&&!n)&&(("body"!==k(t)||ce(s))&&(c=(r=t)!==D(r)&&P(r)?{scrollLeft:(i=r).scrollLeft,scrollTop:i.scrollTop}:se(r)),P(t)?((f=T(t,!0)).x+=t.clientLeft,f.y+=t.clientTop):s&&(f.x=le(s))),{x:l.left+c.scrollLeft-f.x,y:l.top+c.scrollTop-f.y,width:l.width,height:l.height}}function ke(e){var t=new Map,n=new Set,r=[];function i(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!n.has(e)){var r=t.get(e);r&&i(r)}})),r.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||i(e)})),r}var De={placement:"bottom",modifiers:[],strategy:"absolute"};function Me(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"==typeof e.getBoundingClientRect)}))}function Pe(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,r=void 0===n?[]:n,i=t.defaultOptions,o=void 0===i?De:i;return function(e,t,n){void 0===n&&(n=o);var i,a,s={placement:"bottom",orderedModifiers:[],options:Object.assign({},De,o),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},l=[],c=!1,f={state:s,setOptions:function(n){h(),s.options=Object.assign({},o,s.options,n),s.scrollParents={reference:M(e)?he(e):e.contextElement?he(e.contextElement):[],popper:he(t)};var i,a,c=function(e){var t=ke(e);return _.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}((i=[].concat(r,s.options.modifiers),a=i.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e}),{}),Object.keys(a).map((function(e){return a[e]}))));return s.orderedModifiers=c.filter((function(e){return e.enabled})),s.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,r=void 0===n?{}:n,i=e.effect;if("function"==typeof i){var o=i({state:s,name:t,instance:f,options:r}),a=function(){};l.push(o||a)}})),f.update()},forceUpdate:function(){if(!c){var e=s.elements,t=e.reference,n=e.popper;if(Me(t,n)){s.rects={reference:_e(t,$(n),"fixed"===s.options.strategy),popper:j(n)},s.reset=!1,s.placement=s.options.placement,s.orderedModifiers.forEach((function(e){return s.modifiersData[e.name]=Object.assign({},e.data)}));for(var r=0;r<s.orderedModifiers.length;r++)if(!0!==s.reset){var i=s.orderedModifiers[r],o=i.fn,a=i.options,l=void 0===a?{}:a,h=i.name;"function"==typeof o&&(s=o({state:s,options:l,name:h,instance:f})||s)}else s.reset=!1,r=-1}}},update:(i=function(){return new Promise((function(e){f.forceUpdate(),e(s)}))},function(){return a||(a=new Promise((function(e){Promise.resolve().then((function(){a=void 0,e(i())}))}))),a}),destroy:function(){h(),c=!0}};if(!Me(e,t))return f;function h(){l.forEach((function(e){return e()})),l=[]}return f.setOptions(n).then((function(e){!c&&n.onFirstUpdate&&n.onFirstUpdate(e)})),f}}Pe();var He,Le,Re,We,Te,je=Pe({defaultModifiers:[ne,Ee,ee,L,Ce,ye,Se,Q,Oe]});let Fe=(He=a.customElement("rn-color-picker-field"),Le=a.query(".colorpicker"),He((We=class extends l.FieldWithPrice{constructor(...e){super(...e),babelHelpers.initializerDefineProperty(this,"ColorPickerInstance",Te,this)}static get properties(){return s.FieldBase.properties}SubRender(){return n.html` <div> <div @click="${e=>this.RenderDialog()}" class="colorpicker" style="border: 1px ${""==this.model.Color?"dashed":"solid"} #888;border-radius: 2px;width: 75px;height: 25px;cursor: pointer;display: inline-flex;align-items: center;justify-content: center;padding: 5px;"> ${""==this.model.Color?n.html``:n.html`<div style="width: 100%;height: 100%; background-color: ${this.model.Color}"></div>`} </div> ${c.rnIf(""!=this.model.Color&&n.html`<rn-fontawesome @click="${e=>this.Clear()}" .icon="${d.faTimes}" title="Remove" style="cursor: pointer; margin-left: 3px" class="rnremove"></rn-fontawesome>`)} </div> `}async RenderDialog(){let e=await n.renderInline(n.html`<rn-color-picker-dialog .color="${this.model.Color}" style="z-index: 1000000000000000" @change="${t=>{e.remove(),null!=t.detail&&this.model.SetColor(t.detail)}}"></rn-color-picker-dialog>`);document.body.appendChild(e),je(this.ColorPickerInstance,e,{modifiers:[{name:"offset",options:{offset:[0,2]}},{name:"arrow",options:{padding:5}}]})}OnChange(e){}Clear(){this.model.SetColor("")}},Te=babelHelpers.applyDecoratedDescriptor(We.prototype,"ColorPickerInstance",[Le],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Re=We))||Re);var Be=function(e){var t=e[0],n=e[1]/100,r=e[2]/100;return 0===r?[0,0,0]:[t,100*(2*(n*=(r*=2)<=1?r:2-r)/(r+n)),100*((r+n)/2)]};var Ie=function(e){var t,n,r=e[0],i=e[1]/100,o=e[2]/100;return t=i*o,[r,100*(t=(t/=(n=(2-i)*o)<=1?n:2-n)||0),100*(n/=2)]};function Ne(e){var t=e[0],n=e[1],r=e[2],i=Math.max(t,n,r),o=i-Math.min(t,n,r),a=o&&60*(i===t?(n-r)/o%6:i===n?(r-t)/o+2:(t-n)/o+4);return[a<0?a+360:a,i&&100*o/i,100*i/255]}function Ae(e){var t=e[0]/60,n=e[1]/100,r=e[2]/100,i=r*n,o=r-i,a=255*(i*(1-Math.abs(t%2-1))+o)+.5|0,s=255*(i+o)+.5|0,l=255*o+.5|0,c=0|t;return 1===c?[a,s,l]:2===c?[l,s,a]:3===c?[l,a,s]:4===c?[a,l,s]:5===c?[s,l,a]:[s,a,l]}var Ve=function(e,t,n){return Math.min(Math.max(e,t),n)};function $e(e){var t=Math.round(Ve(e,0,255)).toString(16);return 1==t.length?"0"+t:t}var qe=function(e){var t=4===e.length?$e(255*e[3]):"";return"#"+$e(e[0])+$e(e[1])+$e(e[2])+t};var ze=function(e){4!==e.length&&5!==e.length||(e=function(e){for(var t="#",n=1;n<e.length;n++){var r=e.charAt(n);t+=r+r}return t}(e));var t=[parseInt(e.substring(1,3),16),parseInt(e.substring(3,5),16),parseInt(e.substring(5,7),16)];if(9===e.length){var n=parseFloat((parseInt(e.substring(7,9),16)/255).toFixed(2));t.push(n)}return t};function Ge(e,t){return e?[Ke(e[0])?Xe(e[0]):t[0],Ke(e[1])?Ye(e[1]):t[1],Ke(e[2])?Ye(e[2]):t[2]]:t}function Ue(e){return[Xe(e[0]),Ye(e[1]),Ye(e[2])]}function Xe(e){var t=Math.round(e%360*10)/10;return t<0?t+360:t}function Ye(e){return e<0?0:e>100?100:(10*e+.5|0)/10}function Ke(e){return"number"==typeof e&&isFinite(e)}var Qe="undefined"!=typeof globalThis?globalThis:self,Je="PointerEvent"in Qe?function(e,t,n){e.addEventListener("pointerdown",(function(e){0===e.button&&!1!==t(e)&&this.setPointerCapture(e.pointerId)})),e.addEventListener("pointermove",(function(e){this.hasPointerCapture(e.pointerId)&&n(e)}))}:"ontouchend"in Qe?function(e,t,n){var r=!1;e.addEventListener("touchstart",(function(e){1===e.touches.length&&!1!==t(e.touches[0])&&(r=!0,e.preventDefault())})),e.addEventListener("touchmove",(function(e){r&&1===e.touches.length&&(e.preventDefault(),n(e.touches[0]))}))}:function(e,t,n){var r=function(e){n(e)},i=function(){removeEventListener("mouseup",i),removeEventListener("mousemove",r)};e.addEventListener("mousedown",(function(e){0===e.button&&!1!==t(e)&&(addEventListener("mousemove",r),addEventListener("mouseup",i))}))},Ze={hsv:[0,100,100],hsl:[0,100,50],wheelDiameter:200,wheelThickness:20,handleDiameter:16,wheelReflectsSaturation:!0,onChange:function(){}},et=Qe.DOMMatrix||Qe.WebKitCSSMatrix||Qe.MSCSSMatrix,tt=function(e,t){return e===t||e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]},nt=function(){function e(t){var n=this;this.options=t,this.wheelDiameter=this.options.wheelDiameter||Ze.wheelDiameter,this.wheelThickness=this.options.wheelThickness||Ze.wheelThickness,this.handleDiameter=this.options.handleDiameter||Ze.handleDiameter,this.onChange=this.options.onChange||Ze.onChange,this.wheelReflectsSaturation=void 0!==this.options.wheelReflectsSaturation?this.options.wheelReflectsSaturation:Ze.wheelReflectsSaturation,this.rootElement=this.options.appendTo.appendChild(rt("div","reinvented-color-wheel")),this.hueWheelElement=this.rootElement.appendChild(rt("canvas","reinvented-color-wheel--hue-wheel")),this.hueWheelContext=this.hueWheelElement.getContext("2d"),this.hueHandleElement=this.rootElement.appendChild(rt("div","reinvented-color-wheel--hue-handle")),this.svSpaceElement=this.rootElement.appendChild(rt("canvas","reinvented-color-wheel--sv-space")),this.svSpaceContext=this.svSpaceElement.getContext("2d"),this.svHandleElement=this.rootElement.appendChild(rt("div","reinvented-color-wheel--sv-handle")),this._redrawHueWheel=function(){n._redrawHueWheelRequested=!1;var e=n.wheelDiameter,t=e/2,r=t-n.wheelThickness/2,i=Math.PI/180,o=n.wheelReflectsSaturation?","+n._hsl[1]+"%,"+n._hsl[2]+"%)":",100%,50%)",a=n.hueWheelContext;a.clearRect(0,0,e,e),a.lineWidth=n.wheelThickness;for(var s=0;s<360;s++)a.beginPath(),a.arc(t,t,r,(s-90.7)*i,(s-89.3)*i),a.strokeStyle="hsl("+s+o,a.stroke()},this.hueWheelContext.imageSmoothingEnabled=!1,this.svSpaceContext.imageSmoothingEnabled=!1,this._hsv=Ge(t.hsv?t.hsv:t.hsl?e.hsl2hsv(t.hsl):t.rgb?e.rgb2hsv(t.rgb):t.hex?e.rgb2hsv(e.hex2rgb(t.hex)):void 0,Ze.hsv),this._hsl=Ue(e.hsv2hsl(this._hsv)),this._rgb=e.hsv2rgb(this._hsv),this._hex=e.rgb2hex(this._rgb);var r=function(e,t){var r=n._inverseTransform.multiply(new et("matrix(1,0,0,1,"+e+","+t+")"));return{x:r.e,y:r.f}},i=function(e){n._inverseTransform=function(e){for(var t=[e];e=e.parentElement;)t.push(e);for(var n=new et,r=t.length-1;r>=0;r--){var i=getComputedStyle(t[r]),o=i.transform;if(o&&"none"!==o){var a=i.transformOrigin.split(" ").map(parseFloat);n=n.translate(a[0],a[1]).multiply(new et(o)).translate(-a[0],-a[1])}}return n.inverse()}(e);var t=e.getBoundingClientRect();n._center=r(t.left+t.width/2,t.top+t.height/2)},o=function(e){var t=r(e.clientX,e.clientY),i=t.x-n._center.x,o=t.y-n._center.y,a=Math.atan2(o,i);n.hsv=[180*a/Math.PI+90,n.hsv[1],n.hsv[2]]},a=function(e){var t=r(e.clientX,e.clientY),i=100/n.svSpaceElement.width,o=(t.x-n._center.x)*i+50,a=(n._center.y-t.y)*i+50;n.hsv=[n._hsv[0],o,a]},s=function(e){i(n.svSpaceElement),a(e)};Je(this.hueWheelElement,(function(e){i(n.hueWheelElement);var t=r(e.clientX,e.clientY),a=t.x-n._center.x,s=t.y-n._center.y,l=n.wheelDiameter/2-n.wheelThickness;if(a*a+s*s<l*l)return!1;o(e)}),o),Je(this.svSpaceElement,s,a),Je(this.svHandleElement,s,a),this.redraw()}return Object.defineProperty(e.prototype,"hsv",{get:function(){return this._hsv},set:function(e){tt(this._hsv,e)||this._setHSV(e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hsl",{get:function(){return this._hsl},set:function(t){tt(this._hsl,t)||this._setHSV(e.hsl2hsv(t))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rgb",{get:function(){return this._rgb},set:function(t){tt(this._rgb,t)||this._setHSV(e.rgb2hsv(t))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hex",{get:function(){return this._hex},set:function(t){this._hex!==t&&(this.rgb=e.hex2rgb(t))},enumerable:!1,configurable:!0}),e.prototype.setHSV=function(){this.hsv=arguments},e.prototype.setHSL=function(){this.hsl=arguments},e.prototype.redraw=function(){this.hueWheelElement.width=this.hueWheelElement.height=this.wheelDiameter,this.svSpaceElement.width=this.svSpaceElement.height=(this.wheelDiameter-2*this.wheelThickness)*Math.SQRT1_2;var e=this.hueHandleElement.style,t=this.svHandleElement.style;e.width=e.height=t.width=t.height=this.handleDiameter+"px",e.marginLeft=e.marginTop=t.marginLeft=t.marginTop=-this.handleDiameter/2+"px",this._redrawHueWheel(),this._redrawHueHandle(),this._redrawSvSpace(),this._redrawSvHandle()},e.prototype._setHSV=function(t){var n=this._hsv,r=this._hsv=Ge(t,n),i=n[0]-r[0],o=n[1]-r[1]||n[2]-r[2];i&&(this._hsl=[r[0],this._hsl[1],this._hsl[2]],this._redrawHueHandle(),this._updateSvBackground()),o&&(this._hsl=Ue(e.hsv2hsl(r)),this._redrawSvHandle(),this.wheelReflectsSaturation&&!this._redrawHueWheelRequested&&(requestAnimationFrame(this._redrawHueWheel),this._redrawHueWheelRequested=!0)),(i||o)&&(this._rgb=e.hsv2rgb(r),this._hex=e.rgb2hex(this._rgb),this.onChange(this))},e.prototype._redrawSvSpace=function(){this._updateSvBackground();var e=this.svSpaceElement.width,t=this.svSpaceContext,n=t.createLinearGradient(0,0,e,0),r=t.createLinearGradient(0,0,0,e);n.addColorStop(0,"rgba(255,255,255,1)"),n.addColorStop(1,"rgba(255,255,255,0)"),r.addColorStop(0,"rgba(0,0,0,0)"),r.addColorStop(1,"rgba(0,0,0,1)"),t.fillStyle=n,t.fillRect(0,0,e,e),t.fillStyle=r,t.fillRect(0,0,e,e)},e.prototype._updateSvBackground=function(){this.svSpaceElement.style.backgroundColor="hsl("+this._hsv[0]+",100%,50%)"},e.prototype._redrawHueHandle=function(){var e=this.wheelDiameter/2,t=e-this.wheelThickness/2,n=(this._hsv[0]-90)*Math.PI/180,r=this.hueHandleElement.style;r.left=t*Math.cos(n)+e+"px",r.top=t*Math.sin(n)+e+"px"},e.prototype._redrawSvHandle=function(){var e=this.svSpaceElement.width,t=this.svHandleElement.style,n=(this.wheelDiameter-e)/2,r=this._hsv;t.left=n+e*r[1]/100+"px",t.top=n+e*(1-r[2]/100)+"px"},e.default=e,e.defaultOptions=Ze,e.hsv2hsl=Ie,e.hsl2hsv=Be,e.hsv2rgb=Ae,e.rgb2hsv=Ne,e.rgb2hex=qe,e.hex2rgb=ze,e}();function rt(e,t){var n=document.createElement(e);return n.className=t,n}var it,ot,at,st,lt={};!function(e){Object.defineProperty(e,"__esModule",{value:!0});var t="check",n=[],r="f00c",i="M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z";e.definition={prefix:"fas",iconName:t,icon:[512,512,n,r,i]},e.faCheck=e.definition,e.prefix="fas",e.iconName=t,e.width=512,e.height=512,e.ligatures=n,e.unicode=r,e.svgPathData=i}(lt),it=a.customElement("rn-color-picker-dialog"),ot=a.query(".colorContainer"),it((at=class extends f.LitElementBase{constructor(...e){super(...e),babelHelpers.initializerDefineProperty(this,"colorContainer",st,this),this.color="#000000"}static get properties(){return{color:{type:String}}}render(){return n.html` <div style="background-color: white;padding:20px; border: 1px solid #dfdfdf;border-radius: 5px;text-align: center;" class="rednao"> <div class="colorContainer"></div> <div style="position:relative;"> <div style="position:absolute;top:0;left: 0;height: 100%;width: 33.5px;background-color: ${this.color}"></div> <input .value=${this.color} style="padding-left: 36px" type="text" @change="${e=>{if(e.stopPropagation(),!/^#[0-9A-F]{6}$/i.test(e.target.value))return e.target.value=this.color,void this.forceUpdate();this.color=e.target.value,this.colorWheel.hex=e.target.value,this.colorWheel.redraw()}}"/> </div> <div> <button class="rnbtn rnbtn-danger" style="margin-top: 10px;display: inline-flex;align-items: center;margin-right: 10px;" @click="${e=>this.FireEvent("change",null)}"> <rn-fontawesome .icon="${d.faTimes}" style="margin-right: 3px"></rn-fontawesome> Cancel </button> <button class="rnbtn rnbtn-primary" style="margin-top: 10px;display: inline-flex;align-items: center;" @click="${e=>this.FireEvent("change",this.color)}"> <rn-fontawesome .icon="${lt.faCheck}" style="margin-right: 3px"></rn-fontawesome> Apply </button> </div> </div> `}firstUpdated(e){super.firstUpdated(e),this.colorWheel=new nt({appendTo:this.colorContainer,hex:this.color,wheelDiameter:200,wheelThickness:20,handleDiameter:16,wheelReflectsSaturation:!0,onChange:e=>{this.color=e.hex}})}},st=babelHelpers.applyDecoratedDescriptor(at.prototype,"colorContainer",[ot],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),at)),exports.ColorPickerFieldModel=h,exports.ColorPickerFieldOptions=u,exports.ColorPickerField=Fe,e.EventManager.Subscribe("GetFieldOptions",(e=>{if(e==t.FieldTypeEnum.ColorPicker)return new u})),e.EventManager.Subscribe("GetFieldModel",(e=>{if(e.Options.Type==t.FieldTypeEnum.ColorPicker)return new h(e.Options,e.Parent)}))}));
