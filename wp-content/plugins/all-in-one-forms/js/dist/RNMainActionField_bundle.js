rndefine("#RNMainActionField",["#RNMainCore/EventManager","#RNMainFormBuilderCore/FieldBase.Options","lit/decorators","lit","#RNMainFormBuilderCore/FieldBase","#RNMainFormBuilderCore/FieldWithPrice","#RNMainLit/Lit","#RNMainFormBuilderCore/FieldWithPrice.Model","#RNMainCore/StoreBase","#RNMainFormBuilderCore/FieldWithPrice.Options","#RNMainFormBuilderCore/FormBuilder.Options"],(function(e,i,t,n,r,o,l,s,a,u,d){"use strict";var c;let h=t.customElement("rn-action-field")(c=class extends o.FieldWithPrice{static get properties(){return r.FieldBase.properties}GetLabel(e="",i=!1){return null}SubRender(){return n.html` <rn-spinner-button .isBusy="${this.model.IsBusy}" @click="${e=>this.model.Click()}" class="default" label="${this.model.Options.Label}" .icon="${l.rnIf("none"!=this.model.Options.Icon.ImageType&&n.html` <rn-icon-displayer style="margin-right: 3px" .icon="${this.model.Options.Icon}" .formBuilder="${this.model.RootFormBuilder}"></rn-icon-displayer> `)}" > </rn-spinner-button> `}})||c;var p,m,F;let B;!function(e){e.Clear="clear",e.Submit="submit",e.None="none"}(B||(B={}));let b=(p=a.StoreDataType(Object),m=class extends u.FieldWithPriceOptions{constructor(...e){super(...e),babelHelpers.initializerDefineProperty(this,"Icon",F,this)}LoadDefaultValues(){super.LoadDefaultValues(),this.Type=i.FieldTypeEnum.ActionButton,this.Action=B.None,this.Label="Click",this.HideSubmitButton=!1,this.Icon=(new d.IconOptions).Merge()}},F=babelHelpers.applyDecoratedDescriptor(m.prototype,"Icon",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m);class y extends s.FieldWithPriceModel{GetStoresInformation(){return!0}async Initialize(e=null){return await super.Initialize(e),this.Options.Action==B.Submit&&this.Options.HideSubmitButton&&(this.RootFormBuilder.HideSubmitButton=!0),this}InternalSerialize(e){e.Value=this.Value}InitializeStartingValues(){this.Value=!1}SetTitle(e){this.Title=e}GetValue(){return this.Value}async Click(){switch(this.Options.Action){case B.Submit:this.IsBusy=!0,this.Refresh(),await this.FormBuilder.RootFormBuilder.Save(),this.IsBusy=!1,this.Refresh();break;case B.Clear:this.FormBuilder.RootFormBuilder.ClearForm();break;case B.None:}this.Value||(this.Value=!0,this.FireValueChanged(null))}render(){return n.html`<rn-action-field .model="${this}"></rn-action-field>`}}exports.ActionFieldModel=y,exports.ActionField=h,exports.ActionFieldOptions=b,exports.ButtonActionEnum=B,e.EventManager.Subscribe("GetFieldOptions",(e=>{if(e==i.FieldTypeEnum.ActionButton)return new b})),e.EventManager.Subscribe("GetFieldModel",(e=>{if(e.Options.Type==i.FieldTypeEnum.ActionButton)return new y(e.Options,e.Parent)}))}));
